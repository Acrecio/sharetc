"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(e){function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){e.exports=t(4)},,function(e,n){!function(){var n={apiKey:"ueom2eryn6n1m7vi"};e.exports=n}()},function(e,n,t){!function(n,t){e.exports=t()}(this,function(){function e(){var o,a=arguments,y=a[0],m=a[1],g=2,v=a.length,b=e[u];if(y=e[f](y)?y:d.createElement(y),1===v)return y;if((!l(m,t)||e[c](m)||p(m))&&(--g,m=null),v-g===1&&l(a[g],"string")&&void 0!==y[r])y[r]=a[g];else for(;v>g;++g)if(o=a[g],null!=o)if(p(o))for(var w=0;w<o.length;++w)s(y,o[w]);else s(y,o);for(var h in m)if(b[h]){var x=b[h];("undefined"==typeof x?"undefined":_typeof(x))===n?x(y,m[h]):y[i](x,m[h])}else y[i](h,m[h]);return y}var n="function",t="object",o="nodeType",r="textContent",i="setAttribute",u="attrMap",c="isNode",f="isElement",d=("undefined"==typeof document?"undefined":_typeof(document))===t?document:{},l=function(e,n){return("undefined"==typeof e?"undefined":_typeof(e))===n},a=("undefined"==typeof Node?"undefined":_typeof(Node))===n?function(e){return e instanceof Node}:function(e){return e&&l(e,t)&&o in e&&l(e.ownerDocument,t)},y=function(n){return e[c](n)&&1===n[o]},p=function(e){return e instanceof Array},s=function(n,t){e[c](t)||(t=d.createTextNode(t)),n.appendChild(t)};return e[u]={},e[f]=y,e[c]=a,"undefined"!=typeof Proxy?new Proxy(e,{get:function(n,t){return!(t in e)&&(e[t]=e.bind(null,t)),e[t]}}):e})},function(e,n,t){var o=t(2),r=t(3),i=!0,u=function(e){var n=document.getElementById("key");if(!(n.value.length<=0)){var t=n.value,u={alg:"A256GCM",ext:!0,k:t,kty:"oct"},c=window.location.href,f=c.indexOf("#"),d=-1!=f?c.substring(f+1):"",l=new Peer({key:o.apiKey,debug:3}),a=l.connect(d);a.on("data",function(e){i&&console.log("receiving");var n=e.iv,t=e.encrypted;window.crypto.subtle.importKey("jwk",u,{name:"AES-GCM"},!1,["encrypt","decrypt"]).then(function(e){return i&&console.log("importKey"),i&&console.log(e),window.crypto.subtle.decrypt({name:"AES-GCM",iv:n,tagLength:128},e,t)}).then(function(e){i&&console.log("decrypted");var n=new Blob([e],{type:"application/octet-binary"}),t=URL.createObjectURL(n);r(document.getElementById("resultinglink"),r("a",{href:t,download:"document.pdf"},"Download me")),a.close()})["catch"](function(e){throw console.log(e),e})}),a.on("err",function(e){throw console.log(e),e})}},c=document.getElementById("launch");c.addEventListener("click",u)}]);