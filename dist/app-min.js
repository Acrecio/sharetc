"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(e){function n(t){if(o[t])return o[t].exports;var r=o[t]={exports:{},id:t,loaded:!1};return e[t].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var o={};return n.m=e,n.c=o,n.p="",n(0)}([function(e,n,o){e.exports=o(1)},function(e,n,o){var t=o(2),r=o(3),u=!0,i={accept:!1,readAsDefault:"ArrayBuffer",on:{progress:function(e,n){u&&console.log("progress");var o=document.getElementById("progress");if(e.lengthComputable){var t=e.total,r=e.loaded,i=100*r/t;u&&console.log(i),o.style.width=i+"%"}},loadstart:function(e,n){u&&console.log("loadstart")},load:function(e,n){u&&console.log("loaded");var o=e.target.result,i=window.crypto.getRandomValues(new Uint8Array(12)),c=void 0;window.crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]).then(function(e){return u&&console.log("generateKey"),c=e,window.crypto.subtle.exportKey("jwk",c)}).then(function(e){return document.getElementById("key").value=e.k,document.getElementById("key").style.display="block",window.crypto.subtle.encrypt({name:"AES-GCM",iv:i,tagLength:128},c,o)}).then(function(e){return u&&console.log("encrypted"),new Promise(function(n,o){var c=new Peer({key:t.apiKey,debug:3});c.on("open",function(t){u&&console.log("My peer ID is: "+t),r(document.getElementById("link"),{value:window.location.href+"uploaded.html#"+t}),document.getElementById("displayLink").style.display="block",c.on("connection",function(t){u&&console.log("connected"),t.on("open",function(){u&&console.log("opened"),t.send({iv:i,encrypted:e}),n(c)}),t.on("error",function(e){u&&console.log(e),o(e)})}),c.on("error",function(e){u&&console.log(e),o(e)})})})})["catch"](function(e){throw u&&console.log(e),e})},error:function(e,n){throw u&&console.log(e,n),e}}};document.addEventListener("DOMContentLoaded",function(){new Clipboard("#copy-btn");FileReaderJS.setupInput(document.getElementById("archive"),i)})},function(e,n){!function(){var n={apiKey:"YOUR-API-KEY"};e.exports=n}()},function(e,n,o){!function(n,o){e.exports=o()}(this,function(){function e(){var t,a=arguments,s=a[0],g=a[1],m=2,v=a.length,w=e[i];if(s=e[l](s)?s:d.createElement(s),1===v)return s;if((!f(g,o)||e[c](g)||y(g))&&(--m,g=null),v-m===1&&f(a[m],"string")&&void 0!==s[r])s[r]=a[m];else for(;v>m;++m)if(t=a[m],null!=t)if(y(t))for(var b=0;b<t.length;++b)p(s,t[b]);else p(s,t);for(var h in g)if(w[h]){var x=w[h];("undefined"==typeof x?"undefined":_typeof(x))===n?x(s,g[h]):s[u](x,g[h])}else s[u](h,g[h]);return s}var n="function",o="object",t="nodeType",r="textContent",u="setAttribute",i="attrMap",c="isNode",l="isElement",d=("undefined"==typeof document?"undefined":_typeof(document))===o?document:{},f=function(e,n){return("undefined"==typeof e?"undefined":_typeof(e))===n},a=("undefined"==typeof Node?"undefined":_typeof(Node))===n?function(e){return e instanceof Node}:function(e){return e&&f(e,o)&&t in e&&f(e.ownerDocument,o)},s=function(n){return e[c](n)&&1===n[t]},y=function(e){return e instanceof Array},p=function(n,o){e[c](o)||(o=d.createTextNode(o)),n.appendChild(o)};return e[i]={},e[l]=s,e[c]=a,"undefined"!=typeof Proxy?new Proxy(e,{get:function(n,o){return!(o in e)&&(e[o]=e.bind(null,o)),e[o]}}):e})}]);